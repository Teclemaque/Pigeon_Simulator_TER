<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-10000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(Obj_Terrain){
    instance_destroy()
}
with(obj_MAP_controller){
    MAP_Create2_seed(100000)
    MAP_Draw2()
}
with(obj_MAP_controller){
    papper_map = ds_grid_create(width,height)
    for(var i=0;i &lt; width; i++){
        for(var j=0;j&lt;height;j++){ 
            
            var l = ds_list_create()
            if(false//ds_grid_get(other.fog,i,j) == 1
            ){
                ds_list_add(l,0)
                ds_grid_set(papper_map,i,j,l)
            } else { //si case visible
                ds_list_add(l,1)
                ds_list_add(l,ds_grid_get(terrain_map,i,j))
                ds_grid_set(papper_map,i,j,l)
            }
            
        }
    }
}
with(Obj_mini_map_controler){
    surface_free(mini_map)
}

with(obj_Partie){
    activite = 0
}

step = 0
delay = 0

//////////////////////////////////////
/*
Variable avancé objectifs
*/
Pat = false;

//FANTASSIN
instance_create(600,450,obj_joueur)
A = instance_create(541+(random(4)-2),420+(random(4)-2),obj_agent_officier0_C1)

//A.Officiel = 1;
A.Officier_sup = obj_joueur;

for (i = 0; i &lt; 65; i++)
    {
    B = instance_create(541+(random(4)-2),420+(random(4)-2),obj_agent_C1)
    B.Commandant = A.id
    ds_list_add(A.Regiment,B.id);
    }
with(A)
    {
    nomGroupe(id);
    /*List[0] = id;
    Argument[0] = List;
    Argument[1] = 4;
    Argument[2] = 200;
    Argument[3] = 1;
    Execute = IA_Groupe;*/
    }
    
A = instance_create(420+(random(4)-2),420+(random(4)-2),obj_agent_officier0_C1)

A.Officiel = 1;
//A.Officier_sup = obj_joueur;

for (i = 0; i &lt; 120; i++)
    {
    B = instance_create(420+(random(4)-2),420+(random(4)-2),obj_agent_C1)
    B.Commandant = A.id
    ds_list_add(A.Regiment,B.id);
    }
with(A)
    {
    nomGroupe(id,true);
    /*List[0] = id;
    Argument[0] = List;
    Argument[1] = 4;
    Argument[2] = 200;
    Argument[3] = 1;
    Execute = IA_Groupe;*/
    }
    
//deuxiéme camp
instance_create(500,100,obj_general)
A = instance_create(500,110,obj_agent_officier0_C2)

A.Officiel = 1;
A.Officier_sup = obj_general;

for (i = 0; i &lt; 120; i++)
    {
    B = instance_create(500,110,obj_agent_C2)
    B.Commandant = A.id
    ds_list_add(A.Regiment,B.id);
    }
with(A)
    {
    nomGroupe(id,true);
    /*List[0] = id;
    Argument[0] = List;
    Argument[1] = 4;
    Argument[2] = 200;
    Argument[3] = 1;
    Execute = IA_Groupe;*/
    }
/*
for(var i=0;i&lt;10;i++){
    instance_create(541+(random(10)-20),250+(random(10)-20),obj_agent_C2)
}
*/
//fleche a tuto
instance_create(-100,-100,obj_arrow)
Timer = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>       switch(step){
        case 0: //bienvenue
            if(mouse_check_button_pressed(mb_left))
                step = 1
            break
        case 1: // ici general
            with(obj_arrow){
                x = obj_joueur.x-10
                y = obj_joueur.y-10
                image_angle = 315
            }
            if(mouse_check_button_pressed(mb_left))
                step = 2
            break
        case 2: // ici unite
            with(obj_arrow){
                x = obj_agent_officier0_C1.x+10
                y = obj_agent_officier0_C1.y+10
                image_angle = 120
            }
            if(mouse_check_button_pressed(mb_left))
                step = 3
            break
        case 3: // visibilite
            with(obj_arrow){
                x = view_xview[0]+view_wview[0]/2
                y = view_yview[0]+50
                image_angle = 90
            }
            if(mouse_check_button_pressed(mb_left)){
                step = 4
                }
            break
        case 4: //mini-map
            with(obj_arrow){
                x = view_xview[0]+view_wview[0]-50
                y = view_yview[0]+view_hview[0]-(view_hview[0]/5)
                image_angle = 270
            }
            if(mouse_check_button_pressed(mb_left))
                step = 5
            break
        case 5: //annonce
            if(mouse_check_button_pressed(mb_left))
                step = 6
            with(obj_arrow){
                x = -100
                y = -100
            }
            break;
        case 6 : //nommage
            if(keyboard_check_pressed(vk_enter))
                step = 7      
            break
        case 7: //Separer
            if(keyboard_check_pressed(vk_enter))
                step = 8
            break
        case 8: //Patrouille
            if(keyboard_check_pressed(vk_enter))
                step = 9
            break
        case 9: //Renseignement
            if(keyboard_check_pressed(vk_enter)){
                step = 10
            }
            break
        case 10 : //Troupe adverse
                if ds_list_find_index(obj_joueur.Regiment,"compagnie002") != -1
                    {
                    step = 11;
                    }
            break
        case 11 : //Carte stratégique
            if obj_MAP_controller.toggle_papper == 1
                {
                step = 12;
                }
            break
        case 12 : //La compagnie
            if ds_list_find_index(obj_joueur.Regiment,"compagnie001") != -1
            &amp;&amp; obj_MAP_controller.toggle_papper == 0
                {step = 13;}
            break
        case 13 : //Attaque
            step = 14;
            break
        case 14: //Massacre
            if(keyboard_check_pressed(vk_enter)){
                step = 15
                delay = 90
            }
            break
        case 15: //fin
            if(mouse_check_button_pressed(mb_left)){
                //instance_create(0,0,obj_game_over)
                step = 16
            }
            break
        
        
    }
delay--

/////////////////////////////////////////////////////////////////////////////////
/*
Analyse de ce qui se passe dans le reste de la room pour l'avancer tu tuto
*/

if instance_exists(obj_joueur)
    {
    if ds_list_find_index(obj_joueur.Regiment,"compagnie002") != -1
        {
        Pat = true;
        }
    }
if Timer &gt;= 1
    {
    Timer --;
    
    if Timer == 1
        {
        room_goto(Title_screen)
        }
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_valign(fa_top)
draw_set_halign(fa_center)
        switch(step){
            case 0 : //bienvenue
                draw_set_colour(c_blue)
                draw_rectangle(room_width/2-500,room_height/2,
                room_width/2+500,room_height/2+100,false)
                draw_set_colour(c_black)
                draw_text_ext_transformed(room_width/2,room_height/2,
                "Bienvenue dans SIR, YES SIR! Nous allons maintenant apprendre les bases.",
                15,300,3,3,0)
            break;
            case 1 :  // ici general
                draw_set_colour(c_blue)
                draw_rectangle(room_width/2-500,room_height/2+200,
                room_width/2+500,room_height/2+400,false)
                draw_set_colour(c_black)
                draw_text_ext_transformed(room_width/2,room_height/2+200,
                "Voici votre général. C'est à travers lui que vous donnerez vos ordres à vos unités. Si cette unité venait à mourir, la partie est perdue.",
                15,300,3,3,0)
                break;
            case 2:  // ici unite
                draw_set_colour(c_blue)
                draw_rectangle(room_width/2-500,room_height/2+200,
                room_width/2+500,room_height/2+400,false)
                draw_set_colour(c_black)
                draw_text_ext_transformed(room_width/2,room_height/2+200,
                "Voici vos unités. Elles combattront pour vous jusqu'à la mort",
                15,300,3,3,0)
                break;
            case 3 : // visibilite
                draw_set_colour(c_blue)
                draw_rectangle(room_width/2-500,room_height/2+200,
                room_width/2+500,room_height/2+400,false)
                draw_set_colour(c_black)
                draw_text_ext_transformed(room_width/2,room_height/2+200,
                "Votre vision est dépendante de celle de votre général. Ces obstacles vous empêchent de voir plus loin",
                15,300,3,3,0)
                break;
            case 4 : //mini-map
                draw_set_colour(c_blue)
                draw_rectangle(room_width/2-500,room_height/2-200,
                room_width/2+500,room_height/2,false)
                draw_set_colour(c_black)
                draw_text_ext_transformed(room_width/2,room_height/2-200,
                "Ne vous inquiétez pas, vos unités vous enveront des informations sur le relief. De plus vous pouvez observer le terrain sur la mini-carte en bas à droite",
                15,300,3,3,0)
                break;
            case 5 : //annonce
                draw_set_colour(c_blue)
                draw_rectangle(room_width/2-500,room_height/2-200,
                room_width/2+500,room_height/2,false)
                draw_set_colour(c_black)
                draw_text_ext_transformed(room_width/2,room_height/2-200,
                "Mais avant de pouvoir faire quoi que ce soit, nous devons nommer un officier pour diriger vos unités.",
                15,300,3,3,0)
                break;
            case 6 : //Nommage
                draw_set_colour(c_blue)
                draw_rectangle(0,0,
                room_width,200,false)
                draw_set_colour(c_black)
                draw_text_ext_transformed(room_width/2,0,
                "Pour nommer un officier, tapez : 'chef1 grader' dans la barre commande en bas de l'écran",
                15,300,3,3,0)
                break;
            case 7 : // separer
                draw_set_colour(c_blue)
                draw_rectangle(0,0,
                room_width,200,false)
                draw_set_colour(c_black)
                draw_text_ext_transformed(room_width/2,0,
                "Bien, maintenant que nous avons un officier pour diriger vos troupes, vous pouvez lui demander de diviser sa troupe en deux avec 'troupe0001 diviser'. Cela créera automatiquement un officier qui dirigera la nouvelle troupe.",
                15,500,2,2,0)
                break;
            case 8 : // Patrouille
                draw_set_colour(c_blue)
                draw_rectangle(0,room_height/2,
                room_width,room_height/2+200,false)
                draw_set_colour(c_black)
                draw_text_ext_transformed(room_width/2,room_height/2,
                "Vous vous souvenez quand je vous ai dit que votre champ de vision était limité? Et si des ennemis se dissimulaient derrière cette montagne au nord? Envoyez une patrouille vérifier avec 'patrouille00011 deplacer ' et faîtes un clic droit à la postion souhaitée",
                15,500,2,2,0)
                break;
            case 9 : //Renseignement
                draw_set_colour(c_blue)
                draw_rectangle(0,0,
                room_width,200,false)
                draw_set_colour(c_black)
                draw_text_ext_transformed(room_width/2,0,
                "Bien, il faut mainteant attendre que vos unités trouvent quelque chose",
                15,300,3,3,0)
                break;
            case 10 : //Troupe adverse
                draw_set_colour(c_blue)
                draw_rectangle(0,room_height/2,
                room_width,room_height/2+200,false)
                draw_set_colour(c_black)
                draw_text_ext_transformed(room_width/2,room_height/2,
                "Des ennemis ont été découvert derrière la montagne! Vos troupes ont marqué leur position sur votre carte stratégique. Pressez [contrôle]+[M]",
                15,300,3,3,0)
                break;
            case 11 : //Carte stratégique
                draw_set_colour(c_blue)
                draw_rectangle(0,room_height/2,
                room_width,room_height/2+200,false)
                draw_set_colour(c_black)
                draw_text_ext_transformed(room_width/2,room_height/2,
                "Vous voici sur la carte stratégique, Remarquez la présence de jeton de couleur, les bleus sont vos troupes, les rouges les troupes adverses.",
                15,300,3,3,0)
                break;
            case 12 : //La companie
                draw_set_colour(c_blue)
                draw_rectangle(0,room_height/2,
                room_width,room_height/2+200,false)
                draw_set_colour(c_black)
                draw_text_ext_transformed(room_width/2,room_height/2,
                "Il y a une troupe ami non loin de l'armée adverse! Ordonnez lui d'attaquer. Revenez sur le terrain ([contrôle]+[M]).",
                15,300,3,3,0)
                break;
            case 13 : //Attaque
                draw_set_colour(c_blue)
                draw_rectangle(0,room_height/2,
                room_width,room_height/2+200,false)
                draw_set_colour(c_black)
                draw_text_ext_transformed(room_width/2,room_height/2,
                "Bien! Donnez l'ordre 'compagnie001 attaquer compagnie002'",
                15,300,3,3,0)
                break;
            case 14 : //Massacre
                draw_set_colour(c_blue)
                draw_rectangle(0,room_height/2,
                room_width,room_height/2+200,false)
                draw_set_colour(c_black)
                draw_text_ext_transformed(room_width/2,room_height/2,
                "La compagnie a besoin de renfort, envoyez votre troupe0001",
                15,300,3,3,0)
                break;
            case 15 : //Fin
                draw_set_colour(c_blue)
                draw_rectangle(0,room_height/2,
                room_width,room_height/2+200,false)
                draw_set_colour(c_black)
                draw_text_ext_transformed(room_width/2,room_height/2,
                "Félicitation! Vous avez gagné!",
                15,300,3,3,0)
                Timer = 60;
                break;
        }
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
